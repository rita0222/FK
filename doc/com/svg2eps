#! /usr/bin/env perl

use Getopt::Std;
use Cwd 'getcwd';
my $cur_dir = getcwd . '/';

%opts = ();

getopts ("ir", \%opts);

foreach $svgName (@ARGV) {
	next if $svgName !~ /.svg$/;
	$epsName = $svgName;
	$epsName =~ s/.svg$/.eps/;

	if($opts{"i"} == 1) {
	    $com = "inkscape --file=";
	    $com .= $cur_dir . $svgName;
	    $com .= " --export-eps=";
	    $com .= $cur_dir . $epsName;
	} else {
	    $com = "rsvg-convert ";
	    $com .= $cur_dir . $svgName;
	    $com .= " -z 0.8 --format=ps -o ";
	    $com .= $cur_dir .  $epsName;
	}

	if(!(-f $epsName)) {
		system($com);
	}	
}

0;

